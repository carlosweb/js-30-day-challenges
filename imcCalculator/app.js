let age = document.querySelector('#age')
let weigthValue = document.querySelector('#weigthValue')
let heightValue = document.querySelector('#heightValue')
const box = document.querySelector('.box')
let total = 0

const getImc = (event) => {
    event.preventDefault()
    validationForm()
    total = Number(weigthValue.value) / Number(heightValue.value.replace(',', '.')) ** 2
    localStorage.setItem('IMC', total.toFixed(2))
    render()
}

const validationForm = () => {
    if (heightValue.value === '' || weigthValue.value === '') {
        alert('preencha os campos')
    }
}

const message = () => {
    
   if(total > 0 && total < 18.5){
    box.innerHTML = `
    O seu IMC é ${Math.trunc(localStorage.getItem('IMC')) } kg/m2!
    <p>Você está abaixo do indice normal, precisa ganhar mais massa.</p>
    <p>De acordo com a sua altura de ${heightValue.value} e idade ${age.value} anos, o seu peso deveria ser no mínimo 60 kg.</p>  
   `
   }else if(total > 18.5 && total < 24.9) {
    box.innerHTML = `
    O seu IMC é ${localStorage.getItem('IMC')} kg/m2! 
    <p>você está dentro do peso adequado</p>
    <p>De acordo com a sua altura: ${heightValue.value} e idade${age.value}, o seu peso pode variar entre 57 kg e 76 kg, por isso continue tendo cuidado com a alimentação e praticando atividade física regularmente para manter o peso e prevenir doenças.</p>
   `
   }else if(total > 25.0 && total < 29.9) {
    box.innerHTML = `
    <p>O seu IMC é ${localStorage.getItem('IMC')} kg/m2 </p>
    <p>Você está acima do peso, talvez seja interessante perder 6kg</p> 
    <p>De acordo com a sua altura: ${heightValue.value} e idade ${age.value}, o seu peso pode variar entre 57 kg e 76 kg, por isso continue tendo cuidado com a alimentação e praticando atividade física regularmente para manter o peso e prevenir doenças.</p>
   `
   }
}


const render = () => {
    message()
}

document.querySelector('#result').addEventListener('click', getImc)

// -----------------------------------------------------------------------------------------------------

// var mapsFull={selectStates:"#mapa .options .select-option select[name='estado']",selectCities:"#mapa .options .select-option select[name='cidade']",selectDistricts:"#mapa .options .select-option select[name='bairro']",formCEP:"#mapa .options form.select-options-2",divError:"#mapa .options .select-option-error",map:"",mapMarkers:[],initMap:function(){console.info("mapsFull.initMap()");mapsFull.map=new google.maps.Map(document.getElementById('map'),{center:{lat:-23.558,lng:-46.659},zoom:12,scrollwheel:false,});},showError:function(errorToShow){console.log("mapFull.showError();");if(errorToShow=="ZERO_RESULTS"){errorToShow="Nada encontrado";}
// $(mapsFull.divError).html(errorToShow);$(mapsFull.divError).slideDown(200);setTimeout(function(){$(mapsFull.divError).slideUp(200);},8000);},addMarker:function(address,title,textHTML){console.info("mapsFull.addMarker('"+address+"', '"+title+"')");var geocoder=new google.maps.Geocoder();geocoder.geocode({'address':address},function(results,status){var infowindow=new google.maps.InfoWindow({content:textHTML});if(status==google.maps.GeocoderStatus.OK){mapsFull.map.setCenter(results[0].geometry.location);var marker=new google.maps.Marker({map:mapsFull.map,position:results[0].geometry.location,animation:google.maps.Animation.DROP,icon:"images/marker-map.png",});marker.addListener('click',function(){infowindow.open(map,marker);});mapsFull.mapMarkers.push(marker);}else{}});},loadStates:function(){console.info("mapsFull.loadStates();");$.ajax({url:"/locations/get-states",data:{"p_pln":"30081","p_versao":"1"},dataType:"json",success:function(response){console.log("mapsFull.loadStates() response success (1): \n",response);var $states=jQuery.parseJSON(response);console.log("var $states = ",$states);$(mapsFull.selectStates).html("");$(mapsFull.selectCities).html("");$(mapsFull.selectDistricts).html("");$(mapsFull.selectStates).append("<option value=''>Selecione o Estado</option>");$.each($states,function(i,item){$(mapsFull.selectStates).append("<option value='"+item+"'>"+item+"</option>");})},error:function(response){console.error("mapsFull.loadStates() response error (1): \n",response);}});},loadCities:function(){console.info("mapsFull.loadCities();");var stateSelected=$(mapsFull.selectStates).val();$.ajax({url:"/locations/get-cities",data:{"p_pln":"30081","p_versao":"1","p_estado":stateSelected},dataType:"json",success:function(response){console.log("mapsFull.loadCities() response success (1): \n",response);var $cities=jQuery.parseJSON(response);console.log("var $cities = ",$cities);$(mapsFull.selectCities).html("");$(mapsFull.selectDistricts).html("");$(mapsFull.selectCities).append("<option value=''>Selecione a Cidade</option>");$.each($cities,function(i,item){$(mapsFull.selectCities).append("<option value='"+$.trim(item.City)+"'>"+$.trim(item.City)+"</option>");})},error:function(response){console.error("mapsFull.loadCities() response error (1): \n",response);}});},loadDistricts:function(){console.info("mapsFull.loadDistricts();");var stateSelected=$(mapsFull.selectStates).val();var citySelected=$(mapsFull.selectCities).val();$.ajax({url:"/locations/get-districts",data:{"p_pln":"30081","p_versao":"1","p_estado":stateSelected,"p_cidade":citySelected},dataType:"json",success:function(response){console.log("mapsFull.loadDistricts() response success (1): \n",response);var $districts=jQuery.parseJSON(response);console.log("var $districts = ",$districts);$(mapsFull.selectDistricts).html("");$(mapsFull.selectDistricts).append("<option value=''>Selecione o Bairro</option>");$.each($districts,function(i,item){$(mapsFull.selectDistricts).append("<option value='"+$.trim(item.Address_Quarter)+"'>"+$.trim(item.Address_Quarter)+"</option>");})},error:function(response){console.error("mapsFull.loadDistricts() response error (1): \n",response);}});},loadMarkersMap:function(stateSelected,citySelected,districtSelected){if(!stateSelected||!citySelected||!districtSelected){stateSelected=$(mapsFull.selectStates).val().replace('STATE OF ','');citySelected=$(mapsFull.selectCities).val();districtSelected=$(mapsFull.selectDistricts).val();}
// console.info("mapsFull.loadMarkersMap("+stateSelected+", "+citySelected+", "+districtSelected+");");$.ajax({url:"/locations/get",data:{"p_pln":"30081","p_versao":"1","p_estado":stateSelected.replace('STATE OF ',''),"p_cidade":citySelected,"p_bairro":districtSelected},dataType:"json",success:function(response){console.log("mapsFull.loadMarkersMap() response success (1): \n",response);var $pharmacies=jQuery.parseJSON(response);console.log("var $pharmacies = ",$pharmacies);for(var i=0;i<mapsFull.mapMarkers.length;i++){mapsFull.mapMarkers[i].setMap(null);}
// mapsFull.mapMarkers=[];if($pharmacies.length){$.each($pharmacies,function(i,item){var address=item.Address_Group+" "+item.Address+", "+item.Address_Nr+" - "+item.Address_Quarter+", "+item.City+" - "+item.State+", "+item.Address_Zip,title=item.MsfCo_Name,textHTML="<div>"+"<h2>"+item.MsfCo_Name+"</h2>"+"<p>&nbsp;</p>"+"<p><b>EndereÃ§o: </b> "+item.Address_Group+" "+item.Address+", "+item.Address_Nr+"</p>"+"<p><b>Complemento: </b> "+item.Address_Info+"</p>"+"<p><b>Bairro: </b> "+item.Address_Quarter+"</p>"+"<p><b>CEP: </b> "+item.Address_Zip+"</p>"+"<p><b>Cidade: </b> "+item.City+"</p>"+"<p><b>UF: </b> "+item.State+"</p>"+"<p><b>Telefone: </b> "+item.Phone1+"</p>"+"</div>";mapsFull.addMarker(address,title,textHTML);});}else{mapsFull.showError('Nada encontrado. Tente buscar por "Estado, Cidade e Bairro"');}},error:function(response){console.error("mapsFull.loadMarkersMap() response error (1): \n",response);}});},loadMarkersMapCep:function(state,city,current){$.ajax({url:"/locations/get-by-cep",data:{"p_pln":"30081","p_versao":"1","state":state,"city":city,"bairro":current},dataType:"json",success:function(response){var $pharmacies=jQuery.parseJSON(response);for(var i=0;i<mapsFull.mapMarkers.length;i++){mapsFull.mapMarkers[i].setMap(null);}
// mapsFull.mapMarkers=[];if($pharmacies.length){$.each($pharmacies,function(i,item){var address=item.Address_Group+" "+item.Address+", "+item.Address_Nr+" - "+item.Address_Quarter+", "+item.City+" - "+item.State+", "+item.Address_Zip,title=item.MsfCo_Name,textHTML="<div>"+"<h2>"+item.MsfCo_Name+"</h2>"+"<p>&nbsp;</p>"+"<p><b>EndereÃ§o: </b> "+item.Address_Group+" "+item.Address+", "+item.Address_Nr+"</p>"+"<p><b>Complemento: </b> "+item.Address_Info+"</p>"+"<p><b>Bairro: </b> "+item.Address_Quarter+"</p>"+"<p><b>CEP: </b> "+item.Address_Zip+"</p>"+"<p><b>Cidade: </b> "+item.City+"</p>"+"<p><b>UF: </b> "+item.State+"</p>"+"<p><b>Telefone: </b> "+item.Phone1+"</p>"+"</div>";mapsFull.addMarker(address,title,textHTML);});}else{mapsFull.showError('Nada encontrado. Tente buscar por "Estado, Cidade e Bairro"');}
// mapsFull.addMarker("","","",current);},error:function(response){console.error("mapsFull.loadMarkersMap() response error (1): \n",response);}});},bindEvents:function(){console.info("mapsFull.bindEvents()");$(".box-search a[data-to-active]").on('click',function(event){event.preventDefault();$(".box-search a[data-to-active]").removeClass('active');$(this).addClass('active');$(".options .select-option").removeClass('active');$(".options .select-options-"+$(this).attr("data-to-active")).addClass('active');});$(mapsFull.selectStates).on('change',function(){console.log("$(mapsFull.selectStates).on('change')",this);if($(this).val()!=""){var stateSelected=$(this).val();mapsFull.loadCities(stateSelected);}});$(mapsFull.selectCities).on('change',function(){console.log("$(mapsFull.selectCities).on('change')",this);if($(this).val()!=""){var citySelected=$(this).val();mapsFull.loadDistricts(citySelected);}});$(mapsFull.selectDistricts).on('change',function(){console.log("$(mapsFull.selectDistricts).on('change')",this);if($(this).val()!=""){var districtSelected=$(this).val();mapsFull.loadMarkersMap(districtSelected);}});$(mapsFull.formCEP).on('submit',function(){console.info("$(mapsFull.formCEP).on('submit');");var geocoder=new google.maps.Geocoder();geocoder.geocode({'address':$(this).find('input[type=text]').val()+" Brasil"},function(results,status){if(status==google.maps.GeocoderStatus.OK){console.log(results[0]);var stateSelected=results[0].address_components[3].long_name.toString();var citySelected=results[0].address_components[2].long_name.toString();var districtSelected=results[0].address_components[1].long_name.toString();function removerAcentos(newStringComAcento){var string=newStringComAcento.toLowerCase();var mapaAcentosHex={a:/[\xE0-\xE6]/g,e:/[\xE8-\xEB]/g,i:/[\xEC-\xEF]/g,o:/[\xF2-\xF6]/g,u:/[\xF9-\xFC]/g,c:/\xE7/g,n:/\xF1/g};for(var letra in mapaAcentosHex){var expressaoRegular=mapaAcentosHex[letra];string=string.replace(expressaoRegular,letra);}
// console.log("TESTE",string);return string;}
// stateSelected=removerAcentos(stateSelected).toUpperCase();citySelected=removerAcentos(citySelected).toUpperCase();districtSelected=removerAcentos(districtSelected).toUpperCase();mapsFull.initMap();var marker=new google.maps.Marker({map:mapsFull.map,position:results[0].geometry.location,});mapsFull.map.setCenter(results[0].geometry.location);mapsFull.map.setZoom(12);mapsFull.loadMarkersMapCep(stateSelected.replace('STATE OF ',''),citySelected,districtSelected);}else{}});return false;});},init:function(){console.info("mapsFull.init();");mapsFull.initMap();mapsFull.loadStates();mapsFull.bindEvents();}}
// var windowWidth=window.innerWidth;var windowHeight=window.innerHeight;$(window).load(function(){if($("#mapa").length){mapsFull.init();}});$(document).ready(function(){loadTheme();FullMenu();alignImageDicas();initReveal();$("#header .vinter-bt-cadastro").click(function(){ga('send','event','Menu','Cadastro AVI');});$("#footer .vinter-bt-cadastro").click(function(){ga('send','event','Menu RodapÃ©','Cadastro AVI');});$("#sidebar .vinter-bt-cadastro").each(function(){$(this).click(function(){ga('send','event','Fique por Dentro','Sidebar',$(this).attr("data-id"));});})
// $("#destaque-fale-conosco .vinter-bt-cadastro").each(function(){$(this).click(function(){ga('send','event','Home','Destaque Fale Conosco','Cadastro');});})
// $("#banner .vinter-bt-cadastro").each(function(){$(this).click(function(){ga('send','event','Home','Banner',$(this).attr("data-id"));});})
// $("#programa .vinter-bt-cadastro").click(function(){ga('send','event','O Programa','Cadastro AVI');});$("#eyeCatcherDiv a").click(function(){ga('send','event','AVI POP UP','Precisa de Ajuda ?');});$("#eyeCatcherDivMessage .btn-abrichat").click(function(){ga('send','event','AVI POP UP','Iniciar chat');});$("#eyeCatcherDivMessage .btn-fecharchat").click(function(){ga('send','event','AVI POP UP','NÃ£o, Obrigado');});var ytitle='';var xtitle=window.location.pathname.split('/');ytitle=xtitle[32];$('body').addClass(ytitle);$(".category-mobile").click(function(event){event.preventDefault();if($(this).hasClass("aberto")){$(this).removeClass("aberto");$("#sidebar ul").slideUp();}else{$(this).addClass("aberto");$("#sidebar ul").slideDown();}});if($(window).width()<600){$('.sidebar').detach().prependTo("#fiquepordentro .container");}});function alignImageDicas(){}
// function FullMenu(){$(".menu-r").click(function(){if($(this).hasClass("opened")){$(this).removeClass("opened");$(".menu-full").fadeOut();}else{$(this).addClass("opened");$(".menu-full").fadeIn();}});$(".menu-full a").click(function(){$(".menu-r").removeClass("opened");$(".menu-full").fadeOut();});}
// function loadTheme(){$("#preloader").animate({opacity:1},50);setTimeout(function(){$("#preloader").animate({opacity:0,zIndex:-999999},500);$("#eyeCatcherContent").parent().addClass("floatAvi")},2500);$('#banner').owlCarousel({loop:true,margin:0,dots:true,items:1,nav:false,autoplay:true,autoplayTimeout:5000});$('.videos-box').owlCarousel({loop:true,margin:20,dots:false,nav:true,autoplay:true,autoplayTimeout:10000,responsive:{0:{items:1},780:{items:3}}});};function initReveal(){window.sr=ScrollReveal({reset:false,origin:'top',delay:100,mobile:false});sr.reveal('#footer ol',{origin:"bottom"});sr.reveal('#footer ul',{origin:"bottom",delay:200});sr.reveal('#banner',{origin:"bottom"});sr.reveal('#destaque-fale-conosco img',{origin:"left"});sr.reveal('#destaque-fale-conosco h2, #destaque-fale-conosco h3, #destaque-fale-conosco .list-buttons',{origin:"right"});sr.reveal('#fique-por-dentro ul li',{origin:"bottom",delay:300},250);sr.reveal('#fique-por-dentro .veja-mais',{origin:"bottom",delay:300});sr.reveal('#mapa',{origin:"bottom",delay:200});sr.reveal('#banner-interna',{origin:"bottom",delay:200});sr.reveal('#faleconosco',{origin:"bottom",delay:200});sr.reveal('#fiquepordentro .content-post ul li',{origin:"bottom",delay:300},250);sr.reveal('.sidebar .navbar-form, .sidebar .col-md-4 > *',{origin:"right",delay:300},250);}
// function validaBusca(){d=document.formbusca;if(d.term.value==""){alert("O campo busca precisa ser preenchido.")
// return false;}else{}}
// function validaBusca(){d=document.formbusca;if(d.term.value==""){alert("O campo busca precisa ser preenchido.")
// return false;}else{return true;}}


// $(document).ready(function(){if($("#calculadora_imc").length)
// {$('#altura_input, #peso_input').mask("#.##0,00",{reverse:true});
// document.getElementById('submit_calc').onclick=function(){var altura=document.getElementById('altura_input').value.replace('.','').replace(',','.');var peso=document.getElementById('peso_input').value.replace('.','').replace(',','.');var imc=parseFloat((peso/(altura*altura)).toFixed(2));if(altura&&peso){document.querySelector('.calc-result strong').innerHTML=imc;$("html,body").animate({scrollTop:($(".table-calc").offset().top-30)});var eq_result;if(imc<18.5){eq_result="0";}else if(imc>18.5&&imc<25){eq_result="1";}else if(imc>25&&imc<30){eq_result="2";}else if(imc>30&&imc<40){eq_result="3";}else if(imc>40){eq_result="4";}
// $(".table-calc tbody tr").css({backgroundColor:"#fff"});$("#result_calc_"+eq_result).css({backgroundColor:"#ebfdea"});}else{document.querySelector('.calc-result strong').innerHTML="";$(".table-calc tbody tr").css({backgroundColor:"#fff"});}}
// document.getElementById('clear_calc').onclick=function(){document.getElementById('altura_input').value="";document.getElementById('peso_input').value="";document.querySelector('.calc-result strong').innerHTML='';$(".table-calc tbody tr").css({backgroundColor:"#fff"});}}})

